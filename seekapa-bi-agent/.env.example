# Seekapa BI Agent Environment Configuration

# Application Settings
ENVIRONMENT=development
SECRET_KEY=your-very-secret-key-change-in-production
LOG_LEVEL=INFO
CORS_ORIGINS=http://localhost:3000,http://localhost:3001

# Database Configuration
DATABASE_URL=postgresql://seekapa:seekapa_password@localhost:5432/seekapa_bi
EVENT_STORE_DATABASE_URL=postgresql://seekapa:seekapa_password@localhost:5432/seekapa_events
READ_MODEL_DATABASE_URL=postgresql://seekapa:seekapa_password@localhost:5432/seekapa_read_models

# Redis Configuration
REDIS_URL=redis://localhost:6379/0
REDIS_SESSION_DB=1
REDIS_CACHE_DB=2

# Kafka Configuration
KAFKA_BOOTSTRAP_SERVERS=localhost:9092
KAFKA_CLIENT_ID=seekapa-bi-agent
KAFKA_CONSUMER_GROUP=seekapa-consumers
KAFKA_SECURITY_PROTOCOL=PLAINTEXT
KAFKA_SASL_MECHANISM=
KAFKA_SASL_USERNAME=
KAFKA_SASL_PASSWORD=

# RabbitMQ Configuration
RABBITMQ_URL=amqp://seekapa:seekapa_password@localhost:5672/seekapa
RABBITMQ_HOST=localhost
RABBITMQ_PORT=5672
RABBITMQ_USERNAME=seekapa
RABBITMQ_PASSWORD=seekapa_password
RABBITMQ_VHOST=seekapa

# Elasticsearch Configuration
ELASTICSEARCH_URL=http://localhost:9200
ELASTICSEARCH_USERNAME=
ELASTICSEARCH_PASSWORD=

# WebSocket & SSE Configuration
WEBSOCKET_HEARTBEAT_INTERVAL=30
SSE_HEARTBEAT_INTERVAL=30
MAX_CONNECTIONS_PER_CLIENT=5
CONNECTION_TIMEOUT=300

# Circuit Breaker Configuration
CIRCUIT_BREAKER_FAILURE_THRESHOLD=5
CIRCUIT_BREAKER_RECOVERY_TIMEOUT=60
CIRCUIT_BREAKER_TIMEOUT=10

# Data Pipeline Configuration
PIPELINE_WORKERS=2
PIPELINE_CONCURRENCY=4
EVENT_CONCURRENCY=2
BATCH_SIZE=100
BUFFER_SIZE=1000

# Monitoring Configuration
PROMETHEUS_ENABLED=true
GRAFANA_ENABLED=true
METRICS_INTERVAL=60

# Performance Tuning
MAX_WORKERS=4
WORKER_TIMEOUT=30
KEEPALIVE_TIMEOUT=5
MAX_REQUESTS=1000
MAX_REQUESTS_JITTER=50

# Security Configuration
JWT_SECRET_KEY=your-jwt-secret-key
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_REFRESH_TOKEN_EXPIRE_MINUTES=10080
BCRYPT_ROUNDS=12

# External API Configuration
EXTERNAL_API_TIMEOUT=30
EXTERNAL_API_MAX_RETRIES=3
EXTERNAL_API_BACKOFF_FACTOR=1.5

# File Storage Configuration
UPLOAD_MAX_SIZE=10485760  # 10MB
ALLOWED_FILE_TYPES=csv,json,xlsx,parquet
TEMP_DIR=/tmp/seekapa-uploads
STORAGE_BACKEND=local  # local, s3, gcs

# Email Configuration (Optional)
SMTP_HOST=
SMTP_PORT=587
SMTP_USERNAME=
SMTP_PASSWORD=
SMTP_TLS=true
FROM_EMAIL=noreply@seekapa.com

# Development Settings
DEBUG=false
RELOAD=false
HOT_RELOAD=false

# Docker Build Configuration
BUILD_TARGET=production
NODE_ENV=production

# Load Balancer Configuration
ENABLE_LOAD_BALANCING=false
HEALTH_CHECK_ENDPOINT=/health
HEALTH_CHECK_INTERVAL=30

# Feature Flags
ENABLE_KAFKA=true
ENABLE_RABBITMQ=true
ENABLE_ELASTICSEARCH=true
ENABLE_CQRS=true
ENABLE_EVENT_SOURCING=true
ENABLE_CIRCUIT_BREAKER=true
ENABLE_RATE_LIMITING=true